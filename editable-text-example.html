<head>
  <title>editable-text-example</title>
</head>

<body>
  <div class="container">
    {{> posts}}
  </div>
</body>

<template name="posts">
  <h1>Posts</h1>
  {{#each posts}}
    <div class="post">
      <h2 class="editable-text-trigger">
        {{> editableText collection="posts" field="title" removeEmpty=true placeholder="Post title" substitute='<i class="fa fa-pencil"></i>'}}
      </h2>
      <hr />
      <div class="editable-text-trigger">
        {{> editableText collection="posts" field="body" wysiwyg=true acceptEmpty=true substitute='<i class="fa fa-pencil"></i>' class="post-body" inputClass="post-body-wysiwyg"}}
      </div>
      <hr />
      <h4>Comments</h4>
      {{#each comments}}
        <div class="comment editable-text-trigger">
          {{> editableText collection="comments" field="text" textarea=true removeEmpty=true substitute='<i class="fa fa-pencil"></i>' class="comment-text" inputClass="comment-input"}}
        </div>
      {{/each}}
      {{#with post_id=_id}}
        <span class="btn editable-text-trigger">
          <i class="fa fa-plus"></i>{{> editableText collection="comments" field="text" autoInsert=true}}
        </span>
      {{/with}}
    </div>
  {{/each}}
  <span class="btn btn-info editable-text-trigger">
    <i class="fa fa-plus"></i> New post{{> editableText doc=doc collection="posts" field="title" autoInsert=true}}
  </span>
</template>
